Re-ReST: Reflection-Reinforced Self-Training for Language Agents

Zi-Yi Dou, Cheng-Fu Yang , Xueqing Wu , Kai-Wei Chang , Nanyun Peng
University of California, Los Angeles
{zdou,cfyang,xueqing.wu,kwchang,violetpeng}@cs.ucla.edu






Abstract

Finetuning language agents with reasoning-
action trajectories is effective, but obtaining
these trajectories from human annotations or
stronger models is costly and sometimes im-
practical. In this paper, we investigate the use
of self-training in language agents, which can
generate supervision from the agent itself, of-
fering a promising alternative without relying
on human or stronger model demonstrations.
Self-training, however, requires high-quality
model-generated samples, which are hard to
obtain for challenging language agent tasks. To
address this, we present Reflection-Reinforced
Self-Training (Re-ReST), which uses a reflec-
tor to refine low-quality generated samples dur-
ing self-training. The reflector takes the agentâ€™s
output and feedback from an external environ-
ment (e.g., unit test results in code generation)
to produce improved samples. This technique
enhances the quality of inferior samples and ef-
ficiently enriches the self-training dataset with
higher-quality samples. We conduct extensive
experiments on open-source language agents
across tasks, including multi-hop question an-
swering, sequential decision-making, code gen-
eration, visual question answering, and text-to-
image generation. The results demonstrate the
effectiveness of self-training and Re-ReST in
language agent tasks, with self-training improv-
ing baselines by 7.6% on HotpotQA and 28.4%
on AlfWorld, and Re-ReST further boosting
performance by 2.0% and 14.1%, respectively.
Our studies also confirm the efficiency of us-
ing a reflector to generate high-quality samples
for self-training. Moreover, we demonstrate
a method to employ reflection during infer-
ence without ground-truth feedback, address-
ing the limitation of previous reflection work.
Our code is released at https://github.com/
PlusLabNLP/Re-ReST.


